<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="theme-color" content="#ff6f61"/>
  <title>ShopVibe â€“ PWA Demo</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
    body { background: #fdfdfd; color: #333; }
    header { background: #ff6f61; color: white; padding: 1em; text-align: center; }
    .container {
      padding: 1em;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1em;
    }
    .product {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .product img {
      width: 100%;
      height: 180px;
      object-fit: contain;
    }
    .product-info {
      padding: 0.8em;
      display: flex;
      flex-direction: column;
      flex: 1;
    }
    .product h3 {
      margin-bottom: 0.5em;
      color: #ff6f61;
    }
    .product p {
      flex: 1;
    }
    button {
      background: #ff6f61;
      color: white;
      border: none;
      padding: 0.6em;
      margin-top: 1em;
      cursor: pointer;
    }
    button:hover {
      background: #e85c50;
    }
    footer {
      text-align: center;
      padding: 1em;
      font-size: 0.9em;
      background: #fafafa;
    }
  </style>
</head>
<body>
  <header>
    <h1>ShopVibe</h1>
    <p>Vibrant deals, offline-friendly!</p>
  </header>

  <main class="container">
    <div class="product">
      <img src="https://images-cdn.ubuy.co.in/67d5b5339a868c1e6254fae0-tacvasen-men-39-s-jackets-bomber-jacket.jpg" alt="Jacket" />
      <div class="product-info">
        <h3>Jacket</h3>
        <p>Bold outerwear for all seasons in a vibrant red tone.</p>
        <button>Add to Cart</button>
      </div>
    </div>

    <div class="product">
      <img src="https://www.boat-lifestyle.com/cdn/shop/files/wave_hype__4_-removebg-preview.png?v=1702051942" alt="Smart Watch"/>
      <div class="product-info">
        <h3>Smart Watch</h3>
        <p>Stay on time and track your fitness goals.</p>
        <button>Add to Cart</button>
      </div>
    </div>

    <div class="product">
      <img src="https://plus.unsplash.com/premium_photo-1679513691474-73102089c117?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aGVhZHBob25lc3xlbnwwfHwwfHx8MA%3D%3D" alt="Headphones"/>
      <div class="product-info">
        <h3>Wireless Headphones</h3>
        <p>Noise-canceling headphones with immersive sound.</p>
        <button>Add to Cart</button>
      </div>
    </div>

    <div class="product">
      <img src="https://5.imimg.com/data5/SELLER/Default/2023/10/353014653/QD/ZG/MN/193528759/1408-wht-10.jpg" alt="Sneakers"/>
      <div class="product-info">
        <h3>Classic Sneakers</h3>
        <p>Stylish and comfy sneakers for everyday wear.</p>
        <button>Add to Cart</button>
      </div>
    </div>
  </main>

  <footer>&copy; 2025 ShopVibe</footer>

  <script>
    // Register Service Worker
    if ('serviceWorker' in navigator) {
      const swCode = `
        const CACHE_NAME = 'shopvibe-cache-v1';
        const ASSETS = [
          '/',
          location.href,
          'https://images.unsplash.com/photo-1580910051073-b7f9bb1e5496?auto=format&fit=crop&w=500&q=80',
          'https://images.unsplash.com/photo-1517430816045-df4b7de11d1c?auto=format&fit=crop&w=500&q=80',
          'https://images.unsplash.com/photo-1611186871348-b1ce696e52f3?auto=format&fit=crop&w=500&q=80',
          'https://images.unsplash.com/photo-1600181950920-d705a3cfb4e5?auto=format&fit=crop&w=500&q=80'
        ];

        self.addEventListener('install', event => {
          event.waitUntil(
            caches.open(CACHE_NAME)
              .then(cache => cache.addAll(ASSETS))
              .then(() => self.skipWaiting())
          );
        });

        self.addEventListener('activate', event => {
          event.waitUntil(
            caches.keys().then(keys =>
              Promise.all(
                keys.filter(key => key !== CACHE_NAME)
                    .map(key => caches.delete(key))
              )
            )
          );
        });

        self.addEventListener('fetch', event => {
          event.respondWith(
            caches.match(event.request)
              .then(response => response || fetch(event.request))
          );
        });
      `;
      const blob = new Blob([swCode], { type: 'application/javascript' });
      const swURL = URL.createObjectURL(blob);
      navigator.serviceWorker.register(swURL)
        .then(() => console.log('Service Worker registered'))
        .catch(console.error);
    }

    // Push Notification
    if ('Notification' in window && Notification.permission !== 'granted') {
      Notification.requestPermission().then(permission => {
        if (permission === 'granted') {
          navigator.serviceWorker.ready.then(reg => {
            reg.showNotification("You're subscribed!", {
              body: "You'll now receive special offers from ShopVibe.",
              icon: "https://img.icons8.com/fluency/96/000000/online-store.png"
            });
          });
        }
      });
    }
  </script>
</body>
</html>